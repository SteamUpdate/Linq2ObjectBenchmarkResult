# `OfType<T>()` [Optimized]

## Code
```csharp
public List<Entity> TestSet()
{
    var result = new List<Entity>();
    foreach (var item in set)
    {
        if (item is Entity)
        {
            result.Add((Entity)item);
        }
    }
    return result;
}
```

## Framework
|    Method |    N |        Mean |       Error |      StdDev |      Median |         Min |         Max |  Gen 0 |  Gen 1 | Gen 2 | Allocated |
|---------- |----- |------------:|------------:|------------:|------------:|------------:|------------:|-------:|-------:|------:|----------:|
|      List |   10 |    177.8 ns |   0.4528 ns |   0.4236 ns |    177.7 ns |    177.3 ns |    178.6 ns | 0.0710 |      - |     - |     336 B |
| HashedSet |   10 |    243.7 ns |   0.7008 ns |   0.5471 ns |    243.7 ns |    243.0 ns |    244.9 ns | 0.0796 |      - |     - |     376 B |
|     Array |   10 |    124.0 ns |   0.4640 ns |   0.4341 ns |    124.0 ns |    123.4 ns |    124.8 ns | 0.0710 |      - |     - |     336 B |
|      **List** |  **100** |  **1,161.2 ns** |   **2.8873 ns** |   **2.7008 ns** |  **1,162.0 ns** |  **1,155.2 ns** |  **1,164.3 ns** | **0.4654** |      **-** |     **-** |    **2200 B** |
| **HashedSet** |  **100** |  **1,739.2 ns** |   **2.9751 ns** |   **2.7829 ns** |  **1,739.1 ns** |  **1,735.6 ns** |  **1,745.8 ns** | **0.4730** |      **-** |     **-** |    **2240 B** |
|     **Array** |  **100** |    **792.7 ns** |   **2.3286 ns** |   **2.1781 ns** |    **792.1 ns** |    **789.4 ns** |    **798.3 ns** | **0.4654** |      **-** |     **-** |    **2200 B** |
|      List | 1000 |  9,554.9 ns |  37.1211 ns |  34.7231 ns |  9,550.6 ns |  9,507.8 ns |  9,610.4 ns | 3.5095 | 0.0153 |     - |   16620 B |
| HashedSet | 1000 | 15,988.2 ns | 266.2998 ns | 236.0678 ns | 15,975.8 ns | 15,633.3 ns | 16,386.8 ns | 3.5095 |      - |     - |   16649 B |
|     Array | 1000 |  6,129.6 ns |  48.6939 ns |  45.5483 ns |  6,134.7 ns |  6,053.5 ns |  6,209.8 ns | 3.5172 | 0.0076 |     - |   16620 B |

## Core
|    Method |    N |        Mean |      Error |     StdDev |      Median |         Min |         Max |  Gen 0 |  Gen 1 | Gen 2 | Allocated |
|---------- |----- |------------:|-----------:|-----------:|------------:|------------:|------------:|-------:|-------:|------:|----------:|
|      List |   10 |    150.3 ns |  0.2835 ns |  0.2652 ns |    150.2 ns |    149.9 ns |    150.9 ns | 0.0710 |      - |     - |     336 B |
| HashedSet |   10 |    226.1 ns |  0.2838 ns |  0.2655 ns |    226.1 ns |    225.6 ns |    226.7 ns | 0.0796 |      - |     - |     376 B |
|     Array |   10 |    115.6 ns |  0.1917 ns |  0.1794 ns |    115.7 ns |    115.3 ns |    116.0 ns | 0.0712 |      - |     - |     336 B |
|      **List** |  **100** |  **1,020.6 ns** |  **1.4184 ns** |  **1.2574 ns** |  **1,020.6 ns** |  **1,018.9 ns** |  **1,023.1 ns** | **0.4654** |      **-** |     **-** |    **2200 B** |
| **HashedSet** |  **100** |  **1,488.9 ns** |  **3.3230 ns** |  **3.1083 ns** |  **1,488.1 ns** |  **1,484.3 ns** |  **1,494.4 ns** | **0.4730** |      **-** |     **-** |    **2240 B** |
|     **Array** |  **100** |    **730.2 ns** |  **0.6908 ns** |  **0.6124 ns** |    **730.1 ns** |    **729.3 ns** |    **731.2 ns** | **0.4654** |      **-** |     **-** |    **2200 B** |
|      List | 1000 |  7,725.1 ns | 15.2510 ns | 13.5196 ns |  7,723.0 ns |  7,706.3 ns |  7,749.0 ns | 3.5095 | 0.0153 |     - |   16608 B |
| HashedSet | 1000 | 12,733.0 ns | 10.1971 ns |  8.5150 ns | 12,732.6 ns | 12,722.7 ns | 12,751.4 ns | 3.5248 |      - |     - |   16648 B |
|     Array | 1000 |  5,261.3 ns |  9.7145 ns |  8.1121 ns |  5,263.2 ns |  5,241.8 ns |  5,274.2 ns | 3.5172 | 0.0076 |     - |   16608 B |

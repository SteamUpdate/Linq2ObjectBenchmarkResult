# `Where(q => q...)` [Optimized]

## Code
```csharp
public List<Entity> TestSet()
{
    var result = new List<Entity>();
    foreach (var item in set)
    {
        if (item.SomeStr == "456")
        {
            result.Add(item);
        }
    }
    return result;
}
```

## Framework
|    Method |    N |         Mean |      Error |     StdDev |       Median |          Min |          Max |  Gen 0 | Gen 1 | Gen 2 | Allocated |
|---------- |----- |-------------:|-----------:|-----------:|-------------:|-------------:|-------------:|-------:|------:|------:|----------:|
|      List |   10 |     60.98 ns |  0.4606 ns |  0.4308 ns |     60.88 ns |     60.37 ns |     61.77 ns | 0.0085 |     - |     - |      40 B |
| HashedSet |   10 |    129.25 ns |  1.0049 ns |  0.9400 ns |    129.27 ns |    127.84 ns |    130.77 ns | 0.0169 |     - |     - |      80 B |
|     Array |   10 |     27.23 ns |  0.2183 ns |  0.2042 ns |     27.09 ns |     27.04 ns |     27.72 ns | 0.0085 |     - |     - |      40 B |
|      **List** |  **100** |    **461.07 ns** |  **2.4778 ns** |  **2.3177 ns** |    **461.41 ns** |    **457.83 ns** |    **464.49 ns** | **0.0081** |     **-** |     **-** |      **40 B** |
| **HashedSet** |  **100** |  **1,011.51 ns** |  **8.5417 ns** |  **7.9899 ns** |  **1,008.17 ns** |  **1,002.44 ns** |  **1,026.34 ns** | **0.0153** |     **-** |     **-** |      **80 B** |
|     **Array** |  **100** |    **215.45 ns** |  **0.8512 ns** |  **0.7963 ns** |    **215.50 ns** |    **213.81 ns** |    **216.76 ns** | **0.0083** |     **-** |     **-** |      **40 B** |
|      List | 1000 |  5,875.19 ns | 39.0546 ns | 36.5317 ns |  5,870.57 ns |  5,829.65 ns |  5,950.67 ns | 0.0153 |     - |     - |      96 B |
| HashedSet | 1000 | 11,326.94 ns | 89.6172 ns | 83.8280 ns | 11,325.84 ns | 11,186.22 ns | 11,459.10 ns | 0.0153 |     - |     - |     136 B |
|     Array | 1000 |  3,272.54 ns | 19.7743 ns | 18.4969 ns |  3,279.13 ns |  3,235.89 ns |  3,303.70 ns | 0.0191 |     - |     - |      96 B |

## Core
|    Method |    N |         Mean |      Error |     StdDev |       Median |          Min |          Max |  Gen 0 | Gen 1 | Gen 2 | Allocated |
|---------- |----- |-------------:|-----------:|-----------:|-------------:|-------------:|-------------:|-------:|------:|------:|----------:|
|      List |   10 |     79.99 ns |  0.1109 ns |  0.1037 ns |     79.97 ns |     79.85 ns |     80.19 ns | 0.0085 |     - |     - |      40 B |
| HashedSet |   10 |    125.27 ns |  0.8214 ns |  0.7683 ns |    125.18 ns |    124.22 ns |    126.94 ns | 0.0169 |     - |     - |      80 B |
|     Array |   10 |     28.27 ns |  0.0613 ns |  0.0512 ns |     28.27 ns |     28.21 ns |     28.37 ns | 0.0085 |     - |     - |      40 B |
|      **List** |  **100** |    **554.55 ns** |  **0.6102 ns** |  **0.5708 ns** |    **554.40 ns** |    **553.64 ns** |    **555.53 ns** | **0.0076** |     **-** |     **-** |      **40 B** |
| **HashedSet** |  **100** |    **937.85 ns** |  **0.7470 ns** |  **0.6622 ns** |    **937.88 ns** |    **936.54 ns** |    **938.85 ns** | **0.0162** |     **-** |     **-** |      **80 B** |
|     **Array** |  **100** |    **238.07 ns** |  **0.3159 ns** |  **0.2638 ns** |    **238.13 ns** |    **237.69 ns** |    **238.62 ns** | **0.0081** |     **-** |     **-** |      **40 B** |
|      List | 1000 |  8,251.29 ns | 50.3191 ns | 47.0686 ns |  8,258.21 ns |  8,108.56 ns |  8,308.20 ns | 0.0153 |     - |     - |      96 B |
| HashedSet | 1000 | 12,236.69 ns | 12.9311 ns | 12.0958 ns | 12,236.39 ns | 12,219.78 ns | 12,264.81 ns | 0.0153 |     - |     - |     136 B |
|     Array | 1000 |  4,831.40 ns |  7.9331 ns |  6.6245 ns |  4,831.91 ns |  4,822.80 ns |  4,844.52 ns | 0.0153 |     - |     - |      96 B |
